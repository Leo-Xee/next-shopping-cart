<h1 align="middle">ì¥ë°”êµ¬ë‹ˆ ì• í”Œë¦¬ì¼€ì´ì…˜</h1>
<p align="middle">Next.jsì™€ JSON ì„œë²„ë¡œ êµ¬í˜„í•˜ëŠ” ì¥ë°”êµ¬ë‹ˆ ì• í”Œë¦¬ì¼€ì´ì…˜</p>
<p align="middle">
  <img src="https://img.shields.io/badge/version-1.0.0-yellow?style=flat-square" alt="template version"/>
  <a href="https://github.com/daybrush/moveable/blob/master/LICENSE" target="_blank">
    <img src="https://img.shields.io/github/license/daybrush/moveable.svg?style=flat-square&label=license&color=08CE5D"/>
  </a>
</p>
<img width="1600" alt="next-shopping-cart" src="https://user-images.githubusercontent.com/21965795/174474785-8b6f221e-23ed-4390-b58e-52809265538b.png">


## ğŸ”¥ ì†Œê°œ ( [Demo](https://next-shopping-cart-bice.vercel.app/) )

**ì¥ë°”êµ¬ë‹ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ ìƒí’ˆì„ í™•ì¸í•˜ê³  ì¥ë°”êµ¬ë‹ˆì— ë‹´ì€ ë’¤ ê²°ì œ í•´ë³¼ ìˆ˜ ìˆëŠ” ë°ìŠ¤í¬íƒ‘ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.**

ì´ í”„ë¡œì íŠ¸ëŠ” ìš°ì•„í•œ í…Œí¬ì½”ìŠ¤ì˜ ê³¼ì œ ì¤‘ í•˜ë‚˜ì¸ [ì¥ë°”êµ¬ë‹ˆ](https://github.com/woowacourse/react-shopping-cart-prod)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìµœê·¼ì— ì‚¬ìš©ë˜ê³  ìˆëŠ” ê¸°ìˆ ë“¤ê³¼ [MSW](https://mswjs.io/) ê¸°ë°˜ì˜ TDD ë° í…ŒìŠ¤íŠ¸ ì‘ì„±ì„ ê²½í—˜í•´ë³´ê³ ì ì‹œì‘í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê·¸ë¦¬ê³  Postmanìœ¼ë¡œ APIë¥¼ ë¨¼ì € ëª…ì„¸í•˜ê³  JSON Serverë¥¼ í™œìš©í•´ì„œ ìµœëŒ€í•œ RESTfulí•œ API ìš”ì²­ ë° ì‘ë‹µ í™˜ê²½ì—ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ êµ¬í˜„í•˜ê³ ì í–ˆìŠµë‹ˆë‹¤. ë˜í•œ í•œ ëª…ì˜ ìŠ¤í„°ë””ì›ê³¼ í•¨ê»˜ ê°ìì˜ í”„ë¡œì íŠ¸ë¥¼ êµ¬í˜„í•˜ë˜ ì •ê¸°ì ìœ¼ë¡œ ë¯¸íŒ…ì„ í•˜ì—¬ êµ¬í˜„ ë°©í–¥ê³¼ ê¸°ìˆ ì— ëŒ€í•œ ê³ ë¯¼í•˜ê³  íŠ¹ì • ê¸°ëŠ¥ì„ ì •í•´ í˜ì–´í”„ë¡œê·¸ë˜ë°ì„ ì§„í–‰í—€ìŠµë‹ˆë‹¤.

<br />


## ğŸ“š ê¸°ìˆ  ìŠ¤íƒ

| Typescript | Next.js |  React-Query   |  Emotion   | Jest |  Testing-Library |
| :--------: | :--------: | :------: | :-----: |:-----: |:-----: |
|  <img src="https://user-images.githubusercontent.com/21965795/174472604-4e0c144f-4500-4cc6-80b7-3dd29c907171.png" width="100px"/> |  <img src="https://user-images.githubusercontent.com/21965795/174472790-693e1a27-c653-45a6-880d-1cbebbdcf020.png" width="100px" > | <img src="https://user-images.githubusercontent.com/21965795/174472982-dd91c0b0-e6ea-4dfa-bb4a-badf7b3119ae.png" width="100px"/> |<img src="https://user-images.githubusercontent.com/21965795/174472822-309713cb-6730-453c-8bd2-ea071c1176ec.png" width="100px"/>|<img src="https://user-images.githubusercontent.com/21965795/174472830-0a5511cf-3d7b-4d75-a0f8-209325d6d846.png" width="100px"/>|<img src="https://user-images.githubusercontent.com/21965795/174472827-961a87ee-742b-41f5-9fc2-baeae62cc5ae.png" width="100px"/>|

<br />

## ğŸŒ² ë””ë ‰í„°ë¦¬ êµ¬ì¡°

```
â”œâ”€â”€ client
â”‚   â”œâ”€â”€ public            // ì •ì  íŒŒì¼
â”‚   â””â”€â”€ src
â”‚       â”œâ”€â”€ @types        // íƒ€ì…
â”‚       â”œâ”€â”€ components    
â”‚       â”‚   â””â”€â”€ common    // ê³µí†µ ì»´í¬ë„ŒíŠ¸
â”‚       â”œâ”€â”€ hooks
â”‚       â”‚   â””â”€â”€ queries   // react-queryì˜ hooks
â”‚       â”œâ”€â”€ mocks
â”‚       â”‚   â””â”€â”€ data      // MSWì˜ mockData
â”‚       â”‚   â””â”€â”€ handlers  // MSWì˜ handlers
â”‚       â”œâ”€â”€ pages
â”‚       â”œâ”€â”€ services      // API í•¨ìˆ˜
â”‚       â”œâ”€â”€ shared
â”‚       â”‚   â””â”€â”€ constant  // ê³µí†µ ìƒìˆ˜
â”‚       â”‚   â””â”€â”€ utils     // ê³µí†µ í•¨ìˆ˜
â”‚       â””â”€â”€ styles        // ì „ì—­ ë° í…Œë§ˆ ìŠ¤íƒ€ì¼
â””â”€â”€ server                // JSON Server
```

<br />

## âš™ï¸ ì£¼ìš” ë‚´ìš©

### âœ… Next ê¸°ë°˜ì˜ SSR
ë„ë©”ì¸ì˜ íŠ¹ì„±ì„ ê³ ë ¤í•´ì„œ SEOì™€ TTV(Time To View)ê°€ ì¤‘ìš”í•˜ë‹¤ê³  ìƒê°í•´ Next.js í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•´ì„œ SSRë¡œ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

### âœ… React-Queryë¥¼ ì‚¬ìš©í•´ ì„œë²„ìƒíƒœ ê´€ë¦¬
ì¥ë°”êµ¬ë‹ˆ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œëŠ” í´ë¼ì´ì–¸íŠ¸ ìƒíƒœë¥¼ ê´€ë¦¬í•  ìš”ì†Œê°€ ë”°ë¡œ ì—†ë‹¤ê³  íŒë‹¨í–ˆìŠµë‹ˆë‹¤. ê·¸ë˜ì„œ Reduxì— ë¯¸ë“¤ì›¨ì–´ ë¶™ì—¬ì„œ ì„œë²„ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ê¸°ë³´ë‹¤ëŠ” React-Queryë¡œ ê´€ë¦¬í•˜ê³  ì¶”í›„ì— í´ë¼ì´ì–¸íŠ¸ ìƒíƒœë¥¼ ê´€ë¦¬í•  í•„ìš”ì„±ì´ ìƒê¸´ë‹¤ë©´ Recoilê³¼ ê°™ì€ í´ë¼ì´ì–¸íŠ¸ ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ëŠ” ê±¸ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤. 

ë˜í•œ API í•¨ìˆ˜ë¥¼ ìµœëŒ€í•œ ëª¨ë“ˆí™”í•´ì„œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ì•„ë˜ê³¼ ê°™ì´ fetcher í•¨ìˆ˜ë¥¼ êµ¬í˜„í–ˆê³  ì´ë¥¼ ê¸°ë°˜ìœ¼ë¡œ Service í•¨ìˆ˜ì™€ React-Query í•¨ìˆ˜ë¥¼ ê°ê°ì˜ ë””ë ‰í† ë¦¬ì—ì„œ ë„ë©”ì¸ë³„ë¡œ ê´€ë¦¬í•˜ë„ë¡ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤.

```ts
// src/shared/utils/fetcher.ts

const fetcher = async <T>(
  method: "get" | "post" | "patch" | "delete",
  url: string,
  ...rest: object[]
) => {
  try {
    const { data } = await axios[method]<T>(url, ...rest);
    return data;
  } catch (error) {
    if (axios.isAxiosError(error)) {
      throw error;
    }

    throw new Error("different error than axios");
  }
};
```


### âœ… ì¥ë°”êµ¬ë‹ˆì˜ ì£¼ìš” ê¸°ëŠ¥ì„ ìµœëŒ€í•œ ì„œë²„ì™€ ë™ê¸°í™”
![cart](https://user-images.githubusercontent.com/21965795/176478545-de7954ab-b02a-4add-9853-9f7574a505b6.gif)





### âœ… Snackbar êµ¬í˜„ ë° ë””ë°”ìš´ìŠ¤ ì ìš©
![snackbar](https://user-images.githubusercontent.com/21965795/176473620-26aabac0-45ce-4f01-b9eb-53d2aac21d8b.gif)

ì‚¬ìš©ìê°€ ìƒí’ˆì„ ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•˜ë‹¤ëŠ” í”¼ë“œë°±ì„ ì£¼ê¸° ìœ„í•´ì„œ SnackBar ì»´í¬ë„ŒíŠ¸ì™€ useSnackBarë¥¼ êµ¬í˜„í•´ì„œ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.

```ts
// src/components/common/SnackBar/SnackBar.tsx

function SnackBar({ message, duration }: SnackBarProps) {
  const [target, setTarget] = useState<Element | null>(null);

  const element = <Container duration={duration}>{message}</Container>;

  useEffect(() => {
    if (document) {
      setTarget(document.querySelector("#portal"));
    }
  }, []);

  if (!target) return <></>;

  return ReactDOM.createPortal(element, target);
}
```

```ts
// src/hooks/useSnackBar.tsx

function useSnackBar(sec: number) {
  const [isShowing, setIsShowing] = useState(false);
  const timer = useRef<Timer>();

  useEffect(() => {
    if (timer.current) clearTimeout(timer.current);
    if (isShowing) {
      timer.current = setTimeout(() => setIsShowing(false), sec * 1000);
    }
    return () => {
      clearTimeout(timer.current);
    };
  }, [isShowing, sec]);

  return { isShowing, setIsShowing };
}
```



### âœ… MSW, Jest, Testing-libraryë¥¼ ì‚¬ìš©í•œ ë‹¨ìœ„í…ŒìŠ¤íŠ¸



<br />

## ğŸ”§ í…ŒìŠ¤íŠ¸

MSWë¥¼ ê¸°ë°˜ìœ¼ë¡œ APIë¥¼ ëª¨í‚¹í•˜ì˜€ìœ¼ë©° ìµœëŒ€í•œ TDDë¥¼ ì§€í‚¤ë©´ì„œ ë§ì€ í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•˜ë ¤ê³  ë…¸ë ¥í–ˆìŠµë‹ˆë‹¤.  
ê·¸ ê²°ê³¼, ì´ 35ê°œì˜ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë¥¼ ì‘ì„±í–ˆê³  87%ì˜ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ ë‹¬ì„±í–ˆìŠµë‹ˆë‹¤.

<img width="700" alt="Screen Shot 2022-06-19 at 18 32 10" src="https://user-images.githubusercontent.com/21965795/174474660-972d3a17-1305-46ff-8e24-d715e119da44.png">

<br />

## ğŸ¨ LightHouse ì¸¡ì •

![Screen Shot 2022-06-29 at 22 35 03](https://user-images.githubusercontent.com/21965795/176449624-4e3771f0-1e27-47f0-afab-7d9578041330.png)

<br />

## ğŸŒ ë§í¬
- [Web VSCode](https://github.dev/Leo-Xee/next-shopping-cart)
- [POSTMAN API ëª…ì„¸](https://documenter.getpostman.com/view/15701641/Uz5DowLV)
- [Figma](https://www.figma.com/file/m3B8Ev4BsmuVco4jIclhYf/FE_Level2_Mission3_Shopping_Cart?node-id=0%3A1)






